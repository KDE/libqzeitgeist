#!/usr/bin/make -f

DEB_DH_MAKESHLIBS_ARGS_libqzeitgeist-0 := -V"libqzeitgeist-0 (>= 0.1)"

include /usr/share/cdbs/1/rules/utils.mk
include /usr/share/cdbs/1/class/cmake.mk
include /usr/share/cdbs/1/rules/debhelper.mk

# We don't want the .la files, but complain if anything else is missing
binary-post-install/libtelepathy-qt4-dev::
#	rm -f debian/tmp/usr/lib/*.la
#common-binary-post-install-arch:: list-missing

#DEB_DH_STRIP_ARGS := --dbg-package=libqzeitgeist-dbg

DEB_CONFIGURE_EXTRA_FLAGS := \
	--disable-Werror

#DEB_MAKE_CHECK_TARGET = check

common-build-indep::
	$(DEB_MAKE_INVOKE) doxygen-doc

# symbols file to be added later, if C++ even allows
#export DPKG_GENSYMBOLS_CHECK_LEVEL = 4

# we're going to symlink many of the doc directories together
DEB_INSTALL_DOCS_libqzeitgeist-dev := --no-act
DEB_INSTALL_CHANGELOGS_libqzeitgeist-dev := --no-act
